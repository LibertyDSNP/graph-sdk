# cbindgen for generating C bindings
language = "C"
header = "/*\n Copyright (C) 2023 Frequency Team /\n */"
autogen_warning = "/* This file was automatically generated by cbindgen */"
include_guard = "GRAPH_SDK_FFI_H_"
style = "type"

[export]
include = [
    "Config",
    "GraphKeyType",
    "GraphState",
    "Environment",
    "DsnpVersion",
    "ConnectionType",
    "PrivacyType",
    "SchemaConfig",
    "ImportBundle",
    "Update",
    "Action",
    "DsnpGraphEdge",
    "SchemaId",
    "Action",
    "GraphError",
]
item_types = [
    "enums",
    "functions",
    "opaque",
    "structs",
    "typedefs",
    "constants"
]

[export.mangle]
remove_underscores = true

[export.rename]
"FFIResultGraphStateGraphError" = "DsnpGraphStateResult_Error"
"FFIResultusizeGraphError" = "DsnpGraphUserCountResult_Error"
"FFIResultboolGraphError" = "DsnpGraphBooleanResult_Error"
"FFIResultGraphUpdatesGraphError" = "DsnpGraphUpdatesResult_Error"
"FFIResultGraphConnectionsGraphError" = "DsnpGraphConnectionsResult_Error"
"FFIResultGraphConnectionsWithoutKeysGraphError" = "DsnpGraphConnectionsWithoutKeysResult_Error"
"FFIResultDsnpPublicKeysGraphError" = "DsnpGraphPublicKeysResult_Error"

[fn]
sort_by = "None"

[parse]
parse_deps = true
include = ["dsnp-graph-core", "dsnp-graph-config"]

[parse.expand]
crates = ["dsnp-graph-sdk-ffi"]
